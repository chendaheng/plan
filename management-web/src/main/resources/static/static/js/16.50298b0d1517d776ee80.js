webpackJsonp([16],{156:function(a,e,t){function n(a){t(450)}var i=t(37)(t(309),t(521),n,"data-v-38a54436",null);a.exports=i.exports},309:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{searchOptions:{searchParams:{customerName:"",brandName:"",clothingLevel:"",rangeName:"",predictPlanName:"",dateRange:""},options:{customerNameOptions:[],brandNameOptions:[],clothingLevelOptions:[],rangeNameOptions:[],planNameOptions:[]}},totalTableData:[],tableData:[],pages:0,pagination:{currentPage:1,pageSizes:[5,10,20,30,50],pageSize:2,total:0}}},created:function(){var a=this,e=this;console.log("进入一提交计划页面"),this.$axios.get(window.$config.HOST+"/baseInfoManagement/getCustomerName").then(function(e){a.searchOptions.options.customerNameOptions=e.data}).catch(function(a){console.log("初始化获取客户名称失败")}),e.$axios.get(window.$config.HOST+"/baseInfoManagement/getClothingLevelName").then(function(e){a.searchOptions.options.clothingLevelOptions=e.data}).catch(function(a){console.log("初始化获取服装层次失败")}),this.$axios.get(window.$config.HOST+"/baseInfoManagement/getBrandName",{customerId:null}).then(function(e){a.searchOptions.options.brandNameOptions=e.data}).catch(function(a){console.log("初始化品牌名称选择错误")}),this.$axios.get(window.$config.HOST+"/planManagement/getPlanList",{params:{stage:"predict"}}).then(function(e){e.data.forEach(function(e){1===e.type&&2===e.state&&a.totalTableData.push(e)}),a.pagination.total=a.totalTableData.length;var t=(a.pagination.currentPage-1)*a.pagination.pageSize,n=t+a.pagination.pageSize>a.pagination.total?a.pagination.total:t+a.pagination.pageSize;a.tableData=a.totalTableData.slice(t,n)}).catch(function(a){console.log("初始化计划列表获取错误")})},methods:{handleSizeChange:function(a){this.pagination.pageSize=a,console.log("每页 "+a+" 条"),this.pagination.currentPage=1,this.handleSearch()},handleCurrentChange:function(a){console.log("当前页: "+a),this.pagination.currentPage=a,this.handleSearch()},changeDate:function(a){if(a){console.log(a);var e=a.getFullYear(),t=a.getMonth()+1;t=t<10?"0"+t:t;var n=a.getDate();n=n<10?"0"+n:n;var i=a.getHours(),s=a.getMinutes();s=s<10?"0"+s:s;var r=a.getSeconds();return r=s<10?"0"+r:r,e+"-"+t+"-"+n+" "+i+":"+s+":"+r}return""},handleSearch:function(){var a=this,e={customerId:""===this.searchOptions.searchParams.customerName?null:this.searchOptions.searchParams.customerName,brandId:""===this.searchOptions.searchParams.brandName?null:this.searchOptions.searchParams.brandName,id:""===this.searchOptions.searchParams.predictPlanName?null:this.searchOptions.searchParams.predictPlanName,clothingLevelId:""===this.searchOptions.searchParams.clothingLevelName?null:this.searchOptions.searchParams.clothingLevelName,startDate:this.changeDate(this.searchOptions.searchParams.dateRange[0]),endDate:this.changeDate(this.searchOptions.searchParams.dateRange[1])};console.log(e),this.$axios.get(window.$config.HOST+"/infoManagement/getPlanList",e).then(function(e){if(e.data.errcode<0)return void console.log("计划列表获取错误");e.data.forEach(function(e){1===e.type&&2===e.state&&a.totalTableData.push(e),a.pagination.total=a.totalTableData.length,a.pagination.currentPage=1;var t=(a.pagination.currentPage-1)*a.pagination.pageSize,n=t+a.pagination.pageSize>a.pagination.total?a.pagination.total:t+a.pagination.pageSize;a.tableData=a.totalTableData.slice(t,n)})}).catch(function(a){console.log("计划列表获取错误")})},inspectDetail:function(a){this.$router.push({name:"planMakeIndex",params:{goback:"predictPlanMade",flag:5,client:a.customerName,brand:a.brandName,series:a.rangeName,plantype:1,planobj:a.rangeName}})}}}},401:function(a,e,t){e=a.exports=t(123)(!0),e.push([a.i,".box-card[data-v-38a54436]{margin:20px 50px;padding:0 20px}.box-card .bar[data-v-38a54436]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.box-card .bar .title[data-v-38a54436]{font-size:14px;min-width:75px;text-align:center}.box-card .bar .el-input[data-v-38a54436],.box-card .bar .el-select[data-v-38a54436]{width:300px;min-width:75px}.box-card .block[data-v-38a54436]{padding:30px 0;text-align:center}","",{version:3,sources:["/home/titanxu/Desktop/planui/src/page/planManagement/predictPlanMade.vue"],names:[],mappings:"AACA,2BACE,iBAAkB,AAClB,cAAgB,CACjB,AACD,gCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,UAAY,CACb,AACD,uCACE,eAAgB,AAChB,eAAgB,AAChB,iBAAmB,CACpB,AAKD,qFAHE,YAAa,AACb,cAAgB,CAKjB,AACD,kCACE,eAAgB,AAChB,iBAAmB,CACpB",file:"predictPlanMade.vue",sourcesContent:["\n.box-card[data-v-38a54436] {\n  margin: 20px 50px;\n  padding: 0 20px;\n}\n.box-card .bar[data-v-38a54436] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 100%;\n}\n.box-card .bar .title[data-v-38a54436] {\n  font-size: 14px;\n  min-width: 75px;\n  text-align: center;\n}\n.box-card .bar .el-input[data-v-38a54436] {\n  width: 300px;\n  min-width: 75px;\n}\n.box-card .bar .el-select[data-v-38a54436] {\n  width: 300px;\n  min-width: 75px;\n}\n.box-card .block[data-v-38a54436] {\n  padding: 30px 0;\n  text-align: center;\n}\n"],sourceRoot:""}])},450:function(a,e,t){var n=t(401);"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);t(124)("2860c55e",n,!0)},521:function(a,e){a.exports={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"body"},[t("el-card",{staticClass:"box-card"},[t("el-row",{staticStyle:{"margin-top":"5px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"bar"},[t("div",{staticClass:"title"},[a._v("客户名称")]),a._v(" "),t("el-select",{attrs:{clearable:""},model:{value:a.searchOptions.searchParams.customerName,callback:function(e){a.$set(a.searchOptions.searchParams,"customerName",e)},expression:"searchOptions.searchParams.customerName"}},a._l(a.searchOptions.options.customerNameOptions,function(a){return t("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)]),a._v(" "),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"bar"},[t("div",{staticClass:"title"},[a._v("品牌")]),a._v(" "),t("el-select",{attrs:{clearable:""},model:{value:a.searchOptions.searchParams.brandName,callback:function(e){a.$set(a.searchOptions.searchParams,"brandName",e)},expression:"searchOptions.searchParams.brandName"}},a._l(a.searchOptions.options.brandNameOptions,function(a){return t("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)]),a._v(" "),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"bar"},[t("div",{staticClass:"title"},[a._v("服装层次")]),a._v(" "),t("el-select",{attrs:{clearable:""},model:{value:a.searchOptions.searchParams.clothingLevelName,callback:function(e){a.$set(a.searchOptions.searchParams,"clothingLevelName",e)},expression:"searchOptions.searchParams.clothingLevelName"}},a._l(a.searchOptions.options.clothingLevelOptions,function(a){return t("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)])],1),a._v(" "),t("el-row",{staticStyle:{"margin-top":"25px","margin-bottom":"5px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"bar"},[t("div",{staticClass:"title"},[a._v("计划名称")]),a._v(" "),t("el-select",{attrs:{clearable:""},model:{value:a.searchOptions.searchParams.predictPlanName,callback:function(e){a.$set(a.searchOptions.searchParams,"predictPlanName",e)},expression:"searchOptions.searchParams.predictPlanName"}},a._l(a.searchOptions.options.planNameOptions,function(a){return t("el-option",{key:a.id,attrs:{label:a.name,value:a.id}})}))],1)]),a._v(" "),t("el-col",{attrs:{span:13}},[t("div",{staticClass:"bar"},[t("div",{staticClass:"title"},[a._v("制定时间")]),a._v(" "),t("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:a.searchOptions.searchParams.dateRange,callback:function(e){a.$set(a.searchOptions.searchParams,"dateRange",e)},expression:"searchOptions.searchParams.dateRange"}})],1)]),a._v(" "),t("el-col",{attrs:{span:1}},[t("div",{staticClass:"bar"},[t("el-button",{attrs:{type:"primary"},on:{click:a.handleSearch}},[a._v("搜索")])],1)])],1)],1),a._v(" "),t("el-card",{staticClass:"box-card"},[t("div",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,"max-height":"550",stripe:!0}},[t("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a._v(" "),a._e(),a._v(" "),t("el-table-column",{attrs:{prop:"number",label:"预测编号",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{prop:"name",label:"计划名称",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{prop:"rangeNumber",label:"系列编号",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{prop:"rangeName",label:"系列名称",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{prop:"customerName",label:"客户名称",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{prop:"brandName",label:"品牌",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{prop:"clothingLevelName",label:"服装层次",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{prop:"createrName",label:"添加人",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{prop:"deptName",label:"部门",align:"center"}}),a._v(" "),t("el-table-column",{attrs:{fixed:"right",width:"150",align:"center"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){a.inspectDetail(e.row)}}},[a._v("查看")])]}}])})],1)],1),a._v(" "),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":a.pagination.currentPage,"page-sizes":a.pagination.pageSizes,"page-size":a.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:a.pagination.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange,"update:currentPage":function(e){a.$set(a.pagination,"currentPage",e)}}})],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=16.50298b0d1517d776ee80.js.map