webpackJsonp([5,24],{125:function(e,t,a){function n(e){a(232)}var r=a(37)(a(218),a(237),n,"data-v-d8d96cee",null);e.exports=r.exports},145:function(e,t,a){function n(e){a(466)}var r=a(37)(a(298),a(546),n,"data-v-6fd650b6",null);e.exports=r.exports},206:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}},207:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},208:function(e,t,a){(function(e,n){function r(e,a){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(a)?n.showHidden=a:a&&t._extend(n,a),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),l(n,e,n.depth)}function o(e,t){var a=r.styles[t];return a?"["+r.colors[a][0]+"m"+e+"["+r.colors[a][1]+"m":e}function s(e,t){return e}function i(e){var t={};return e.forEach(function(e,a){t[e]=!0}),t}function l(e,a,n){if(e.customInspect&&a&&w(a.inspect)&&a.inspect!==t.inspect&&(!a.constructor||a.constructor.prototype!==a)){var r=a.inspect(n,e);return y(r)||(r=l(e,r,n)),r}var o=c(e,a);if(o)return o;var s=Object.keys(a),h=i(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(a)),A(a)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return m(a);if(0===s.length){if(w(a)){var b=a.name?": "+a.name:"";return e.stylize("[Function"+b+"]","special")}if(F(a))return e.stylize(RegExp.prototype.toString.call(a),"regexp");if(O(a))return e.stylize(Date.prototype.toString.call(a),"date");if(A(a))return m(a)}var f="",v=!1,N=["{","}"];if(g(a)&&(v=!0,N=["[","]"]),w(a)){f=" [Function"+(a.name?": "+a.name:"")+"]"}if(F(a)&&(f=" "+RegExp.prototype.toString.call(a)),O(a)&&(f=" "+Date.prototype.toUTCString.call(a)),A(a)&&(f=" "+m(a)),0===s.length&&(!v||0==a.length))return N[0]+f+N[1];if(n<0)return F(a)?e.stylize(RegExp.prototype.toString.call(a),"regexp"):e.stylize("[Object]","special");e.seen.push(a);var x;return x=v?u(e,a,n,h,s):s.map(function(t){return p(e,a,n,h,t,v)}),e.seen.pop(),d(x,f,N)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(y(t)){var a="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(a,"string")}return v(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function m(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,a,n,r){for(var o=[],s=0,i=t.length;s<i;++s)k(t,String(s))?o.push(p(e,t,a,n,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(p(e,t,a,n,r,!0))}),o}function p(e,t,a,n,r,o){var s,i,c;if(c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},c.get?i=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(i=e.stylize("[Setter]","special")),k(n,r)||(s="["+r+"]"),i||(e.seen.indexOf(c.value)<0?(i=b(a)?l(e,c.value,null):l(e,c.value,a-1),i.indexOf("\n")>-1&&(i=o?i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+i.split("\n").map(function(e){return"   "+e}).join("\n"))):i=e.stylize("[Circular]","special")),x(s)){if(o&&r.match(/^\d+$/))return i;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+i}function d(e,t,a){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?a[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+a[1]:a[0]+t+" "+e.join(", ")+" "+a[1]}function g(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function b(e){return null===e}function f(e){return null==e}function v(e){return"number"==typeof e}function y(e){return"string"==typeof e}function N(e){return"symbol"==typeof e}function x(e){return void 0===e}function F(e){return S(e)&&"[object RegExp]"===$(e)}function S(e){return"object"==typeof e&&null!==e}function O(e){return S(e)&&"[object Date]"===$(e)}function A(e){return S(e)&&("[object Error]"===$(e)||e instanceof Error)}function w(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function $(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}function B(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),G[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var P=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],a=0;a<arguments.length;a++)t.push(r(arguments[a]));return t.join(" ")}for(var a=1,n=arguments,o=n.length,s=String(e).replace(P,function(e){if("%%"===e)return"%";if(a>=o)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(e){return"[Circular]"}default:return e}}),i=n[a];a<o;i=n[++a])b(i)||!S(i)?s+=" "+i:s+=" "+r(i);return s},t.deprecate=function(a,r){function o(){if(!s){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),s=!0}return a.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(a,r).apply(this,arguments)};if(!0===n.noDeprecation)return a;var s=!1;return o};var I,D={};t.debuglog=function(e){if(x(I)&&(I=a.i({NODE_ENV:"production"}).NODE_DEBUG||""),e=e.toUpperCase(),!D[e])if(new RegExp("\\b"+e+"\\b","i").test(I)){var r=n.pid;D[e]=function(){var a=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,a)}}else D[e]=function(){};return D[e]},t.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=g,t.isBoolean=h,t.isNull=b,t.isNullOrUndefined=f,t.isNumber=v,t.isString=y,t.isSymbol=N,t.isUndefined=x,t.isRegExp=F,t.isObject=S,t.isDate=O,t.isError=A,t.isFunction=w,t.isPrimitive=C,t.isBuffer=a(207);var G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",B(),t.format.apply(t,arguments))},t.inherits=a(206),t._extend=function(e,t){if(!t||!S(t))return e;for(var a=Object.keys(t),n=a.length;n--;)e[a[n]]=t[a[n]];return e}}).call(t,a(6),a(18))},218:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{rules:{customerName:[{required:!0,message:"请选择客户名称",trigger:"change"}],brandName:[{required:!0,message:"请选择品牌名称",trigger:"change"}],rangeName:[{required:!0,message:"请选择系列名称",trigger:"change"}],number:[{required:!0,message:"请输入订单款号",trigger:"blur"}]},tableDataA:[],dateRange:"",dialogFormVisible1:!1,DateStart:"",DateEnd:"",pagination:{currentPage:1,pageSizes:[5,10,20,30,50],pageSize:5,total:400},searchOptions:{searchParams:{customerName:"",brandName:"",rangeName:"",number:"",dateRange:""},options:{customerNameOptions:[],brandNameOptions:[],clothingTypeOptions:[],rangeNameOptions:[],styleNumberNameOptions:[]}},data:{tableData:[]},multipleSelection:[],ruleForm:{rangeId:"",rangeNumber:"",rangeName:"",styleGroupId:"",styleGroupNumber:"",styleGroupName:"",id:"",number:"",customerId:"",customerName:"",brandId:"",brandName:"",clothingLevelId:"",clothingLevelName:"",createrName:"",deptName:"",createTime:"",addingMode:"",state:"",havePlan:!1},options:{customerNameOptions:[],brandNameOptions:[],clothingTypeOptions:[],rangeNameTypeOptions:[],styleNumberOptions:[]},controlData:{ifStyleAdd:!1,ifStyleChange:!1},dialogFormVisible:!1}},created:function(){var e=this,t=this;this.$axios.get(window.$config.HOST+"/infoManagement/getStyleNumber",{params:{rangeId:""}}).then(function(t){e.searchOptions.options.styleNumberNameOptions=t.data}).catch(function(t){e.$message({message:"获取订单款号失败",type:"error"})}),this.$axios.get(window.$config.HOST+"/infoManagement/getRangeName",{params:{brandId:""}}).then(function(t){e.searchOptions.options.rangeNameOptions=t.data}).catch(function(t){e.$message({message:"获取系列名称失败",type:"error"})}),this.$axios.get(window.$config.HOST+"/baseInfoManagement/getBrandName",{params:{customerId:""}}).then(function(t){e.searchOptions.options.brandNameOptions=t.data}).catch(function(t){e.$message({message:"获取品牌信息失败",type:"error"})}),t.$axios.get(window.$config.HOST+"/baseInfoManagement/getCustomerName").then(function(t){var a=t.data;e.searchOptions.options.customerNameOptions=a,e.options.customerNameOptions=e.searchOptions.options.customerNameOptions}).catch(function(t){e.$message({message:"获取客户名称失败",type:"error"})}),this.$axios.post(window.$config.HOST+"/infoManagement/getStyleList",{customerId:"",brandId:"",rangeId:"",number:null,clothingLevelId:"",id:"",startDate:null,endDate:null}).then(function(t){var a=t.data;e.data.tableData=a,e.data.tableData.forEach(function(a){1===a.addingMode?a.addingModeName="手动":a.addingModeName="导入",1===a.state?a.stateName="已制定":2===a.state?a.stateName="已提交":3===a.state?a.stateName="被驳回":4===a.state?a.stateName="已审核":5===a.state?a.stateName="已下发":6===a.state&&(a.stateName="已删除");var n=new Date(a.createTime),r=n.toLocaleString();a.createTime=r,e.pagination.total=t.data.length;var o=(e.pagination.currentPage-1)*e.pagination.pageSize,s=(e.pagination.currentPage-1)*e.pagination.pageSize;for(e.tableDataA=[];o-s<e.pagination.pageSize&&o<e.data.tableData.length;o++)e.tableDataA.push(e.data.tableData[o])})}).catch(function(t){e.$message({message:"获取款式搜索结果失败",type:"error"})})},methods:{handleSizeChange:function(e){this.pagination.pageSize=e,console.log("每页+"+this.pagination.pageSize),this.handleSearch()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.handleSearch()},dialogCustomerNameSelectionChange:function(){var e=this,t={customerId:this.ruleForm.customerName};console.log(t),this.$axios.get(window.$config.HOST+"/baseInfoManagement/getBrandName",{params:t}).then(function(t){console.log(t.data),e.options.brandNameOptions=t.data}).catch(function(t){e.$message({message:"获取品牌信息失败",type:"error"})}),this.ruleForm.brandName="",this.ruleForm.rangeName=""},dialogBrandNameSelectionChange:function(){var e=this,t={brandId:this.ruleForm.brandName};this.$axios.get(window.$config.HOST+"/infoManagement/getRangeName",{params:t}).then(function(t){e.options.rangeNameTypeOptions=t.data}).catch(function(t){e.$message({message:"获取系列信息失败",type:"error"})}),this.ruleForm.rangeName=""},changeDate:function(e){if(console.log(e),e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var n=e.getDate();n=n<10?"0"+n:n;var r=(e.getHours(),e.getMinutes());r=r<10?"0"+r:r;var o=e.getSeconds();return o=r<10?"0"+o:o,t+"-"+a+"-"+n}return null},handleSearch:function(){var e=this,t=void 0,a=void 0;null==this.dateRange?(t="",a=""):(t=this.changeDate(this.dateRange[0]),a=this.changeDate(this.dateRange[1]));""===this.searchOptions.searchParams.customerName||this.searchOptions.searchParams.customerName,""===this.searchOptions.searchParams.brandName||this.searchOptions.searchParams.brandName,""===this.searchOptions.searchParams.rangeName||this.searchOptions.searchParams.rangeName,""===this.searchOptions.searchParams.number||this.searchOptions.searchParams.number;this.$axios.post(window.$config.HOST+"/infoManagement/getStyleList",{customerId:""===this.searchOptions.searchParams.customerName?null:this.searchOptions.searchParams.customerName,brandId:""===this.searchOptions.searchParams.brandName?null:this.searchOptions.searchParams.brandName,rangeId:""===this.searchOptions.searchParams.rangeName?null:this.searchOptions.searchParams.rangeName,clothingLevelId:null,number:""===this.searchOptions.searchParams.number?null:this.searchOptions.searchParams.number,id:null,startDate:t,endDate:a}).then(function(t){var a=t.data;e.data.tableData=a,e.data.tableData.forEach(function(a){1===a.addingMode?a.addingModeName="手动":a.addingModeName="导入",1===a.state?a.stateName="已制定":2===a.state?a.stateName="已提交":3===a.state?a.stateName="被驳回":4===a.state?a.stateName="已审核":5===a.state?a.stateName="已下发":6===a.state&&(a.stateName="已删除");var n=new Date(a.createTime),r=n.toLocaleString();a.createTime=r,e.pagination.total=t.data.length;var o=(e.pagination.currentPage-1)*e.pagination.pageSize,s=(e.pagination.currentPage-1)*e.pagination.pageSize;for(e.tableDataA=[];o-s<e.pagination.pageSize&&o<e.data.tableData.length;o++)e.tableDataA.push(e.data.tableData[o]);console.log(e.tableDataA)})}).catch(function(t){e.$message({message:"搜索失败",type:"error"})})},changeCheckBoxFun:function(e){var t=this;t.multipleSelection=e,console.log("changeCheckBox所选中的内容如下"),console.log(t.multipleSelection),console.log("changeCheckBox所选中的内容的长度为",t.multipleSelection.length)},addStyle:function(){console.log("添加款号按钮点击"),this.controlData.ifStyleAdd=!0,this.dialogFormVisible=!0},importStyle:function(){var e=this;console.log("批量导入按钮点击"),e.$router.push({path:"/style/styleImport"})},deleteStyle:function(){var e=this,t=this;console.log("删除款号按钮点击"),0===t.multipleSelection.length?this.$message({message:"请选择要删除的款号",type:"warning"}):t.multipleSelection.length>=1&&(console.log("有"+t.multipleSelection.length+"条数据被选中"),this.$confirm("删除所选的"+t.multipleSelection.length+"条款式组信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.multipleSelection.forEach(function(t){e.$axios.delete(window.$config.HOST+"/infoManagement/deleteStyle",{params:{id:t.id}}).then(function(t){e.handleSearch(),t.data<0?e.$message({message:"删除失败",type:"warning"}):e.$message({message:"删除成功",type:"success"})}).catch(function(t){e.handleSearch(),e.$message({message:"删除失败!",type:"warning"})})})}).catch(function(){e.handleSearch(),e.$message({type:"info",message:"已取消删除"})}))},bindStyleGroup:function(){var e=this;console.log("绑定款式组按钮点击"),0===e.multipleSelection.length?this.$message({message:"请选择要绑定款式组的款号",type:"warning"}):e.multipleSelection.length>=1&&e.$router.push({path:"/style/bindStyleGroup",query:{bindData:e.multipleSelection}})},getStyleData:function(e){console.log("点击了本行的查看"),this.ruleForm.customerName=e.customerName,this.ruleForm.brandName=e.brandName,this.ruleForm.clothingType=e.clothingType,this.ruleForm.rangeName=e.rangeName,this.ruleForm.styleNumber=e.styleNumber,this.dialogFormVisible=!0},changeStyleData:function(e){var t=this;console.log("点击了本行的修改"),this.$axios.get(window.$config.HOST+"/infoManagement/getRangeName",{params:{brandId:e.brandId}}).then(function(e){t.options.rangeNameTypeOptions=e.data}).catch(function(e){t.$message({message:"获取系列名称失败",type:"error"})}),this.$axios.get(window.$config.HOST+"/baseInfoManagement/getBrandName",{params:{customerId:e.customerId}}).then(function(e){t.options.brandNameOptions=e.data}).catch(function(e){t.$message({message:"获取品牌信息失败",type:"error"})}),this.ruleForm.firstCustomerName=e.customerName,this.ruleForm.firstBrandName=e.brandName,this.ruleForm.firstRangeName=e.rangeName,this.ruleForm.firstNumber=e.number,this.ruleForm.firstClothingLevel=e.clothingLevelName,this.ruleForm.rangeId=e.rangeId,this.ruleForm.rangeNumber=e.rangeNumber,this.ruleForm.rangeName=e.rangeName,this.ruleForm.styleGroupId=e.styleGroupId,this.ruleForm.styleGroupNumber=e.styleGroupNumber,this.ruleForm.styleGroupName=e.styleGroupName,this.ruleForm.id=e.id,this.ruleForm.number=e.number,this.ruleForm.customerId=e.customerId,this.ruleForm.customerName=e.customerName,this.ruleForm.brandId=e.brandId,this.ruleForm.brandName=e.brandName,this.ruleForm.clothingLevelId=e.clothingLevelId,this.ruleForm.clothingLevelName=e.clothingLevelName,this.ruleForm.createrName=e.createrName,this.ruleForm.deptName=e.deptName,this.ruleForm.createTime=e.createTime,this.ruleForm.addingMode=e.addingMode,this.ruleForm.state=e.state,this.ruleForm.havePlan=e.havePlan,this.dialogFormVisible1=!0},deleteStyleData:function(e){var t=this;console.log("点击了本行的删除"),console.log("当前row=",e),this.$confirm("是否确认删除该款号？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:e.id};t.$axios.delete(window.$config.HOST+"/infoManagement/deleteStyle",{params:a}).then(function(e){t.handleSearch(),e.data<0?t.$message({type:"error",message:"删除失败"}):t.$message({type:"success",message:"删除成功"})}).catch(function(e){t.handleSearch(),t.$message({type:"info",message:"暂时不能删除"})})})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e?t.$axios.post(window.$config.HOST+"/infoManagement/addStyle",{number:t.ruleForm.number,rangeId:t.ruleForm.rangeName}).then(function(e){t.handleSearch(),e.data<0?t.$message({type:"error",message:"添加失败"}):(t.ruleForm.rangeId="",t.ruleForm.rangeNumber="",t.ruleForm.rangeName="",t.ruleForm.styleGroupId="",t.ruleForm.styleGroupNumber="",t.ruleForm.styleGroupName="",t.ruleForm.id="",t.ruleForm.number="",t.ruleForm.customerId="",t.ruleForm.customerName="",t.ruleForm.brandId="",t.ruleForm.brandName="",t.ruleForm.clothingLevelId="",t.ruleForm.clothingLevelName="",t.ruleForm.createrName="",t.ruleForm.deptName="",t.ruleForm.createTime="",t.ruleForm.addingMode="",t.ruleForm.state="",t.ruleForm.havePlan="",t.options.brandNameOptions="",t.options.rangeNameTypeOptions="",t.options.styleNumberOptions="",t.dialogFormVisible=!1,t.$message({type:"success",message:"添加成功"}))}).catch(function(e){t.$message({type:"info",message:"添加失败！"})}):t.$message({type:"error",message:"请填写必须填写的项！"})})},submitForm1:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var a={id:t.ruleForm.id,name:t.ruleForm.number,rangeId:t.ruleForm.rangeName};t.$axios.post(window.$config.HOST+"/infoManagement/updateStyle",a).then(function(e){e.data<0?t.$message({type:"error",message:"修改失败"}):(t.handleSearch(),t.ruleForm.rangeId="",t.ruleForm.rangeNumber="",t.ruleForm.rangeName="",t.ruleForm.styleGroupId="",t.ruleForm.styleGroupNumber="",t.ruleForm.styleGroupName="",t.ruleForm.id="",t.ruleForm.number="",t.ruleForm.customerId="",t.ruleForm.customerName="",t.ruleForm.brandId="",t.ruleForm.brandName="",t.ruleForm.clothingLevelId="",t.ruleForm.clothingLevelName="",t.ruleForm.createrName="",t.ruleForm.deptName="",t.ruleForm.createTime="",t.ruleForm.addingMode="",t.ruleForm.state="",t.ruleForm.havePlan="",t.dialogFormVisible1=!1,t.$message({type:"success",message:"成功"}))}).catch(function(e){t.handleSearch(),t.$message({type:"info",message:"暂时不能添加"})})})},cancel:function(){console.log("取消按钮点击"),this.ruleForm.rangeId="",this.ruleForm.rangeNumber="",this.ruleForm.rangeName="",this.ruleForm.styleGroupId="",this.ruleForm.styleGroupNumber="",this.ruleForm.styleGroupName="",this.ruleForm.id="",this.ruleForm.number="",this.ruleForm.customerId="",this.ruleForm.customerName="",this.ruleForm.brandId="",this.ruleForm.brandName="",this.ruleForm.clothingLevelId="",this.ruleForm.clothingLevelName="",this.ruleForm.createrName="",this.ruleForm.deptName="",this.ruleForm.createTime="",this.ruleForm.addingMode="",this.ruleForm.state="",this.ruleForm.havePlan="",this.dialogFormVisible=!1,this.options.brandNameOptions="",this.dialogFormVisible1=!1}}}},231:function(e,t,a){t=e.exports=a(123)(!0),t.push([e.i,".box-card[data-v-d8d96cee]{margin:20px 50px;padding:0 20px}.box-card .bar[data-v-d8d96cee]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.box-card .bar .title[data-v-d8d96cee]{font-size:14px;min-width:75px;text-align:center}.box-card .bar .el-input[data-v-d8d96cee],.box-card .bar .el-select[data-v-d8d96cee]{width:300px;min-width:75px}.box-card .block[data-v-d8d96cee]{padding:30px 0;text-align:center}","",{version:3,sources:["/home/titanxu/Desktop/planui/src/page/infoManagement/style/styleManagement.vue"],names:[],mappings:"AACA,2BACE,iBAAkB,AAClB,cAAgB,CACjB,AACD,gCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,UAAY,CACb,AACD,uCACE,eAAgB,AAChB,eAAgB,AAChB,iBAAmB,CACpB,AAKD,qFAHE,YAAa,AACb,cAAgB,CAKjB,AACD,kCACE,eAAgB,AAChB,iBAAmB,CACpB",file:"styleManagement.vue",sourcesContent:["\n.box-card[data-v-d8d96cee] {\n  margin: 20px 50px;\n  padding: 0 20px;\n}\n.box-card .bar[data-v-d8d96cee] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 100%;\n}\n.box-card .bar .title[data-v-d8d96cee] {\n  font-size: 14px;\n  min-width: 75px;\n  text-align: center;\n}\n.box-card .bar .el-input[data-v-d8d96cee] {\n  width: 300px;\n  min-width: 75px;\n}\n.box-card .bar .el-select[data-v-d8d96cee] {\n  width: 300px;\n  min-width: 75px;\n}\n.box-card .block[data-v-d8d96cee] {\n  padding: 30px 0;\n  text-align: center;\n}\n"],sourceRoot:""}])},232:function(e,t,a){var n=a(231);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(124)("3cbe8cf8",n,!0)},237:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body"},[a("el-card",{staticClass:"box-card"},[a("el-row",{staticStyle:{"margin-top":"5px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"title"},[e._v("客户名称")]),e._v(" "),a("el-select",{attrs:{clearable:!0},model:{value:e.searchOptions.searchParams.customerName,callback:function(t){e.$set(e.searchOptions.searchParams,"customerName",t)},expression:"searchOptions.searchParams.customerName"}},e._l(e.searchOptions.options.customerNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"title"},[e._v("品牌")]),e._v(" "),a("el-select",{attrs:{clearable:!0},model:{value:e.searchOptions.searchParams.brandName,callback:function(t){e.$set(e.searchOptions.searchParams,"brandName",t)},expression:"searchOptions.searchParams.brandName"}},e._l(e.searchOptions.options.brandNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"title"},[e._v("系列名称")]),e._v(" "),a("el-select",{attrs:{clearable:!0},model:{value:e.searchOptions.searchParams.rangeName,callback:function(t){e.$set(e.searchOptions.searchParams,"rangeName",t)},expression:"searchOptions.searchParams.rangeName"}},e._l(e.searchOptions.options.rangeNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"title"},[e._v("订单款号")]),e._v(" "),a("el-select",{attrs:{clearable:!0},model:{value:e.searchOptions.searchParams.number,callback:function(t){e.$set(e.searchOptions.searchParams,"number",t)},expression:"searchOptions.searchParams.number"}},e._l(e.searchOptions.options.styleNumberNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.number,value:e.number}})}))],1)])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px","margin-bottom":"5px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"title"},[e._v("添加时间")]),e._v(" "),a("el-date-picker",{staticClass:"inputBar",attrs:{type:"daterange","range-separator":"至","start-placeholde":"开始日期","end-placeholde":"结束日期",clearable:!0},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1)]),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"table"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addStyle}},[e._v("添加款号")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.importStyle}},[e._v("批量导入")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.deleteStyle}},[e._v("删除款号")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.bindStyleGroup}},[e._v("绑定款式组")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableDataA,"max-height":"400",border:"",stripe:!0,"highlight-current-row":!0},on:{"selection-change":e.changeCheckBoxFun}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"styleGroupNumber",width:"150",label:"款式组编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"styleGroupName",width:"130",label:"款式组名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",width:"150",label:"订单款号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rangeNumber",width:"130",label:"系列编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerName",width:"120",label:"客户名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"brandName",label:"品牌",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clothingLevelName",label:"服装层次",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rangeName",width:"150",label:"系列名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createrName",label:"添加人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deptName",label:"部门",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",width:"170",label:"添加时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addingModeName",label:"添加方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stateName",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150","min-width":"100",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.changeStyleData(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteStyleData(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":e.pagination.pageSizes,"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{modal:!1,title:"款式信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-row",{staticStyle:{"margin-top":"5px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"客户名称",placeholder:"请选择客户名称",prop:"customerName"}},[a("el-select",{on:{change:e.dialogCustomerNameSelectionChange},model:{value:e.ruleForm.customerName,callback:function(t){e.$set(e.ruleForm,"customerName",t)},expression:"ruleForm.customerName "}},e._l(e.options.customerNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品牌名称",placeholder:"请选择品牌名称",prop:"brandName"}},[a("el-select",{on:{change:e.dialogBrandNameSelectionChange},model:{value:e.ruleForm.brandName,callback:function(t){e.$set(e.ruleForm,"brandName",t)},expression:"ruleForm.brandName "}},e._l(e.options.brandNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"系列名称",placeholder:"请选择系列名称",prop:"rangeName"}},[a("el-select",{model:{value:e.ruleForm.rangeName,callback:function(t){e.$set(e.ruleForm,"rangeName",t)},expression:"ruleForm.rangeName "}},e._l(e.options.rangeNameTypeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px","margin-bottom":"5px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"订单款号",placeholder:"请输入订单款号",prop:"number"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.ruleForm.number,callback:function(t){e.$set(e.ruleForm,"number",t)},expression:"ruleForm.number"}})],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{margin:"50px 0 10px 0"}},[a("el-col",{attrs:{span:3,offset:10}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"info"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{modal:!1,title:"款式信息",visible:e.dialogFormVisible1},on:{"update:visible":function(t){e.dialogFormVisible1=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-row",{staticStyle:{"margin-top":"5px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"客户名称",placeholder:"请选择客户名称",prop:"customerName"}},[a("el-select",{on:{change:e.dialogCustomerNameSelectionChange},model:{value:e.ruleForm.customerName,callback:function(t){e.$set(e.ruleForm,"customerName",t)},expression:"ruleForm.customerName"}},e._l(e.options.customerNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品牌名称",placeholder:"请选择品牌名称",prop:"brandName"}},[a("el-select",{on:{change:e.dialogBrandNameSelectionChange},model:{value:e.ruleForm.brandName,callback:function(t){e.$set(e.ruleForm,"brandName",t)},expression:"ruleForm.brandName"}},e._l(e.options.brandNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"系列名称",placeholder:"请选择系列名称",prop:"rangeName"}},[a("el-select",{model:{value:e.ruleForm.rangeName,callback:function(t){e.$set(e.ruleForm,"rangeName",t)},expression:"ruleForm.rangeName"}},e._l(e.options.rangeNameTypeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px","margin-bottom":"5px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"订单款号",placeholder:"请输入订单款号",prop:"number"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.ruleForm.number,callback:function(t){e.$set(e.ruleForm,"number",t)},expression:"ruleForm.number"}})],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{margin:"50px 0 10px 0"}},[a("el-col",{attrs:{span:3,offset:10}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm1("ruleForm")}}},[e._v("保存")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"info"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},298:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(125),r=(a.n(n),a(208));a.n(r);t.default={data:function(){return{pagination:{currentPage:1,pageSizes:[2,10,20,30,50],pageSize:2,total:0},tableDataA:[],searchOptions:{searchParams:{customerName:"",brandName:"",clothingLevelName:"",rangeName:"",name:"",dateRange:""},options:{customerNameOptions:[],brandNameOptions:[],clothingTypeOptions:[],rangeNameOptions:[],styleGroupNameOptions:[]}},data:{tableData:[]},multipleSelection:[],dialogFormVisible:!1,rules:{tmpCustomer:[{required:!0,message:"请选择客户名称",trigger:"change"}],tmpBrand:[{required:!0,message:"请选择品牌",trigger:"change"}],clothingLevelName:[{required:!0,message:"请选择服装层次",trigger:"change"}],tmpRange:[{required:!0,message:"请选择系列名称",trigger:"change"}],tmpStyleGroup:[{required:!0,message:"请输入款式组名",trigger:"blur"}]},ruleForm:{tmpCustomer:"",tmpBrand:"",tmpRange:"",tmpStyleGroup:"",id:"",number:"",name:"",rangeNumber:"",rangeId:"",rangeName:"",customerName:"",customerId:"",brandName:"",brandId:"",clothingLevelName:"",clothingLevelId:"",createrName:"",deptName:"",createTime:"",state:"",havePlan:""},options:{customerNameOptions:[],brandNameOptions:[],clothingTypeOptions:[],rangeNameOptions:[]},controlData:{ifStyleGroupAdd:!1,ifStyleGroupChange:!1}}},created:function(){var e=this,t=this;console.log("进入款式组管理页面"),this.$axios.get(window.$config.HOST+"/baseInfoManagement/getCustomerName").then(function(t){console.log("getCustomer 成功"),t.data.forEach(function(t){e.searchOptions.options.customerNameOptions.push({id:t.id,name:t.name}),e.options.customerNameOptions=e.searchOptions.options.customerNameOptions})}).catch(function(t){console.log("getCustomer error!"),e.searchOptions.options.customerNameOptions=[{id:42453,name:"A客户"},{id:41526,name:"B客户"}],e.options.customerNameOptions=e.searchOptions.options.customerNameOptions}),t.$axios.get(window.$config.HOST+"/baseInfoManagement/getClothingLevelName").then(function(t){e.searchOptions.options.clothingTypeOptions=t.data}).catch(function(e){console.log("服装层次加载错误")});var a={customerId:"",brandId:"",rangeId:"",clothingLevelId:"",id:"",startDate:"",endDate:""};this.$axios.post(window.$config.HOST+"/infoManagement/getStyleGroupList",a).then(function(t){e.data.tableData=t.data,e.data.tableData.forEach(function(a){1===a.state?a.stateName="已制定":2===a.state?a.stateName="已提交":3===a.state?a.stateName="被驳回":4===a.state?a.stateName="已审核":5===a.state?a.stateName="已下发":6===a.state&&(a.stateName="已删除");var n=new Date(a.createTime);a.createTime=n.toLocaleString(),e.pagination.total=t.data.length;var r=(e.pagination.currentPage-1)*e.pagination.pageSize,o=(e.pagination.currentPage-1)*e.pagination.pageSize;for(e.tableDataA=[];r-o<e.pagination.pageSize&&r<e.data.tableData.length;r++)e.tableDataA.push(e.data.tableData[r])})}).catch(function(e){console.log("款式组信息加载错误")}),this.$axios.get(window.$config.HOST+"/baseInfoManagement/getBrandName",{params:{customerId:""}}).then(function(t){e.searchOptions.options.brandNameOptions=t.data}).catch(function(t){console.log("品牌名称加载错误"),e.searchOptions.options.brandNameOptions=[{id:1,name:"X品牌"},{id:2,name:"Y品牌"}]}),this.$axios.get(window.$config.HOST+"/infoManagement/getRangeName",{params:{brandId:""}}).then(function(t){e.searchOptions.options.rangeNameOptions=t.data}).catch(function(e){console.log("系列名称加载错误")}),this.$axios.get(window.$config.HOST+"/infoManagement/getStyleGroupName",{params:{rangeId:""}}).then(function(t){t.data.errcode<0?console.log("款式组获取错误"):t.data.forEach(function(t){e.searchOptions.options.styleGroupNameOptions.push({id:t.name,name:t.name})})}).catch(function(t){console.log("款式组获取错误"),e.searchOptions.options.styleGroupNameOptions=[{id:5451,name:"款式组1"},{id:27452,name:"款式组2"},{id:356,name:"款式组3"}]})},methods:{handleSizeChange:function(e){this.pagination.pageSize=e,console.log("每页+"+this.pagination.pageSize),this.handleSearch()},handleCurrentChange:function(e){this.pagination.currentPage=e,this.handleSearch()},rangeSelectionChange:function(){console.log("系列名称选择触发"),console.log(this.searchOptions.searchParams.rangeValue)},brandSelectionChange:function(){console.log("品牌名称选择触发"),console.log(this.searchOptions.searchParams.brandValue)},dialogBrandSelectionChange:function(){var e=this;console.log("对话框品牌名称选择触发"),console.log(this.ruleForm.tmpBrand),this.ruleForm.tmpRange="";var t={brandId:this.ruleForm.brandName===this.ruleForm.tmpBrand?this.ruleForm.brandId:this.ruleForm.tmpBrand};console.log(t),this.options.rangeNameOptions=[],this.$axios.get(window.$config.HOST+"/infoManagement/getRangeName",{params:t}).then(function(t){e.options.rangeNameOptions=t.data}).catch(function(e){console.log("对话框系列名称加载错误")})},customerNameSelectionChange:function(){console.log("客户名称选择触发"),console.log(this.searchOptions.searchParams.customerValue)},dialogCustomerNameSelectionChange:function(){var e=this;this.ruleForm.tmpBrand="",this.ruleForm.tmpRange="",console.log("对话框客户名称选择触发");var t={customerId:this.ruleForm.tmpCustomer===this.ruleForm.customerName?this.ruleForm.customerId:this.ruleForm.tmpCustomer};console.log(t),this.$axios.get(window.$config.HOST+"/baseInfoManagement/getBrandName",{params:t}).then(function(t){t.data<0?console.log("对话框品牌名称加载错误"):t.data.forEach(function(a){e.options.brandNameOptions=t.data})}).catch(function(t){console.log("对话框品牌名称加载错误"),e.options.brandNameOptions=[{id:1,name:"X品牌"},{id:2,name:"Y品牌"}]})},changeDate:function(e){if(console.log(e),e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var n=e.getDate();return n=n<10?"0"+n:n,t+"-"+a+"-"+n}return""},changeCheckBoxFun:function(e){var t=this;t.multipleSelection=e,console.log("changeCheckBox所选中的内容如下"),console.log(t.multipleSelection),console.log("changeCheckBox所选中的内容的长度为",t.multipleSelection.length)},collectSearchOptions:function(){var e=this,t={};for(var a in e.searchOptions.searchParams)if(""!==e.searchOptions.searchParams[a])if("dateRange"==a){var n=e.searchOptions.searchParams[a],r=e.changeDate(n[0]);t.DateStart=r;var o=e.changeDate(n[1]);t.DateEnd=o}else t[a]=e.searchOptions.searchParams[a];return console.log("当前搜索条件",t),t},handleSearch:function(){var e=this,t=void 0,a=void 0;null==this.searchOptions.searchParams.dateRange?(t="",a=""):(t=this.changeDate(this.searchOptions.searchParams.dateRange[0]),a=this.changeDate(this.searchOptions.searchParams.dateRange[1])),console.log("搜索"+this.searchOptions.searchParams.customerValue);var n={customerId:""===this.searchOptions.searchParams.customerValue?"":this.searchOptions.searchParams.customerValue,brandId:""===this.searchOptions.searchParams.brandValue?"":this.searchOptions.searchParams.brandValue,rangeId:""===this.searchOptions.searchParams.rangeValue?"":this.searchOptions.searchParams.rangeValue,clothingLevelId:""===this.searchOptions.searchParams.clothingLevelValue?"":this.searchOptions.searchParams.clothingLevelValue,id:""===this.searchOptions.searchParams.idValue?"":this.searchOptions.searchParams.idValue,startDate:t,endDate:a};console.log(n),this.$axios.post(window.$config.HOST+"/infoManagement/getStyleGroupList",n).then(function(t){e.data.tableData=t.data,e.data.tableData.forEach(function(a){1===a.state?a.stateName="已制定":2===a.state?a.stateName="已提交":3===a.state?a.stateName="被驳回":4===a.state?a.stateName="已审核":5===a.state?a.stateName="已下发":6===a.state&&(a.stateName="已删除");var n=new Date(a.createTime);a.createTime=n.toLocaleString(),e.pagination.total=t.data.length;var r=(e.pagination.currentPage-1)*e.pagination.pageSize,o=(e.pagination.currentPage-1)*e.pagination.pageSize;for(e.tableDataA=[];r-o<e.pagination.pageSize&&r<e.data.tableData.length;r++)e.tableDataA.push(e.data.tableData[r])})}).catch(function(e){console.log("款式组列表搜索错误")})},addStyleGroup:function(){console.log("添加款式组按钮点击"),this.controlData.ifStyleGroupAdd=!0,this.dialogFormVisible=!0},deleteStyleGroup:function(){var e=this,t=this;console.log("删除款式组按钮点击"),0===t.multipleSelection.length?this.$message({message:"请选择要删除的款式组",type:"warning"}):t.multipleSelection.length>=1&&(console.log("有"+t.multipleSelection.length+"条数据被选中"),this.$confirm("删除所选的"+t.multipleSelection.length+"条款式组信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.multipleSelection.forEach(function(t){e.$axios.delete(window.$config.HOST+"/infoManagement/deleteStyleGroup",{params:{id:t.id}}).then(function(t){t.data>=0?e.$message({type:"success",message:"删除成功!"}):e.$message.error("删除失败!"),e.handleSearch()}).catch(function(t){e.$message.error("删除失败!")})}),e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}))},unbindStyleGroup:function(){var e=this,t=this;console.log("解绑款式组按钮点击"),0===t.multipleSelection.length?this.$message({message:"请选择要解绑的款式组",type:"warning"}):t.multipleSelection.length>=1&&this.$confirm("解绑所选的"+t.multipleSelection.length+"条款式组, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.multipleSelection.forEach(function(t){console.log("开始解绑"),e.$axios.get(window.$config.HOST+"/infoManagement/unbindStyleGroup",{params:{id:t.id}}).then(function(a){a.data<0?(e.$message.error(t.name+"解绑失败!"),console.log(t.name+"解绑失败!")):e.$message({type:"success",message:t.styleGroupName+"解绑成功!"})}).catch(function(a){console.log(t.name+"解绑失败!"),e.$message.error(t.name+"解绑失败!")})})}).catch(function(){e.$message({type:"info",message:"已取消解绑"})})},changeStyleGroupData:function(e){var t=this;console.log("点击了本行的修改"),this.controlData.ifStyleGroupChange=!0,this.ruleForm.tmpCustomer=e.customerName,this.ruleForm.tmpBrand=e.brandName,this.ruleForm.tmpRange=e.rangeName,this.ruleForm.tmpStyleGroup=e.name,this.$axios.get(window.$config.HOST+"/baseInfoManagement/getBrandName",{params:{customerId:e.customerId}}).then(function(e){t.options.brandNameOptions=e.data}).catch(function(e){console.log("对话框品牌名称加载错误")}),this.$axios.get(window.$config.HOST+"/infoManagement/getRangeName",{params:{brandId:e.brandId}}).then(function(e){t.options.rangeNameOptions=e.data}).catch(function(e){console.log("对话框系列名称加载错误")}),this.options.rangeNameOptions=[],this.ruleForm.id=e.id,this.ruleForm.number=e.number,this.ruleForm.name=e.name,this.ruleForm.rangeNumber=e.rangeNumber,this.ruleForm.rangeId=e.rangeId,this.ruleForm.rangeName=e.rangeName,this.ruleForm.customerName=e.customerName,this.ruleForm.customerId=e.customerId,this.ruleForm.brandName=e.brandName,this.ruleForm.brandId=e.brandId,this.ruleForm.clothingLevelName=e.clothingLevelName,this.ruleForm.clothingLevelId=e.clothingLevelId,this.ruleForm.createrName=e.createrName,this.ruleForm.deptName=e.deptName,this.ruleForm.createTime=e.createTime,this.ruleForm.state=e.state,this.ruleForm.havePlan=e.havePlan,this.dialogFormVisible=!0},deleteStyleGroupRow:function(e){var t=this;console.log("删除"+e.id),this.$confirm("是否确认删除该款式组？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.delete(window.$config.HOST+"/infoManagement/deleteStyleGroup",{params:{id:e.id}}).then(function(e){e.data>=0?(t.$message({type:"success",message:"删除成功!"}),t.handleSearch()):t.$message.error("删除失败!")}).catch(function(e){t.$message.error("删除失败!")})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},submitForm:function(e){var t=this;if(console.log("保存按钮点击"),this.controlData.ifStyleGroupAdd){this.controlData.ifStyleGroupAdd=!1;var a={customerId:""===this.ruleForm.tmpCustomer?null:this.ruleForm.tmpCustomer,brandId:""===this.ruleForm.tmpBrand?null:this.ruleForm.tmpBrand,rangeId:""===this.ruleForm.tmpRange?null:this.ruleForm.tmpRange,name:""===this.ruleForm.tmpStyleGroup?null:this.ruleForm.tmpStyleGroup};console.log(a),this.$axios.post(window.$config.HOST+"/infoManagement/addStyleGroup",a).then(function(e){e.data>=0?(t.$message({message:"成功新增款式组信息",type:"success"}),t.handleSearch(),t.ruleForm.tmpCustomer="",t.ruleForm.tmpBrand="",t.ruleForm.tmpRange="",t.ruleForm.tmpStyleGroup=""):(console.log("新增款式组信息失败"),t.$message.error("新增款式组信息失败"))}).catch(function(e){console.log("新增款式组信息失败"),t.$message.error("新增款式组信息失败")})}else if(this.controlData.ifStyleGroupChange){this.controlData.ifStyleGroupChange=!1;var a={id:this.ruleForm.id,name:""===this.ruleForm.tmpStyleGroup?null:this.ruleForm.tmpStyleGroup,rangeId:this.ruleForm.tmpRange===this.ruleForm.rangeName?this.ruleForm.rangeId:this.ruleForm.tmpRange};console.log(a),this.$axios.post(window.$config.HOST+"/infoManagement/updateStyleGroup",a).then(function(e){e.data>=0?(t.$message({message:"成功修改款式组信息",type:"success"}),t.handleSearch()):(t.$message.error("后端修改款式组信息失败"),console.log("后端修改款式组信息失败"))}).catch(function(e){t.$message.error("修改款式组信息失败")})}this.handleSearch(),this.options.brandNameOptions=[],this.options.rangeNameOptions=[],this.ruleForm.tmpCustomer="",this.ruleForm.tmpBrand="",this.ruleForm.tmpRange="",this.ruleForm.tmpStyleGroup="",this.dialogFormVisible=!1},cancel:function(){console.log("取消按钮点击"),this.ruleForm.tmpCustomer="",this.ruleForm.tmpBrand="",this.ruleForm.tmpRange="",this.ruleForm.tmpStyleGroup="",this.dialogFormVisible=!1}}}},417:function(e,t,a){t=e.exports=a(123)(!0),t.push([e.i,".box-card[data-v-6fd650b6]{margin:20px 50px;padding:0 20px}.box-card .bar[data-v-6fd650b6]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.box-card .bar .title[data-v-6fd650b6]{font-size:14px;min-width:75px;text-align:center}.box-card .bar .el-input[data-v-6fd650b6],.box-card .bar .el-select[data-v-6fd650b6]{width:300px;min-width:75px}.box-card .block[data-v-6fd650b6]{padding:30px 0;text-align:center}","",{version:3,sources:["/home/titanxu/Desktop/planui/src/page/infoManagement/styleGroup/styleGroupManagement.vue"],names:[],mappings:"AACA,2BACE,iBAAkB,AAClB,cAAgB,CACjB,AACD,gCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,UAAY,CACb,AACD,uCACE,eAAgB,AAChB,eAAgB,AAChB,iBAAmB,CACpB,AAKD,qFAHE,YAAa,AACb,cAAgB,CAKjB,AACD,kCACE,eAAgB,AAChB,iBAAmB,CACpB",file:"styleGroupManagement.vue",sourcesContent:["\n.box-card[data-v-6fd650b6] {\n  margin: 20px 50px;\n  padding: 0 20px;\n}\n.box-card .bar[data-v-6fd650b6] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  width: 100%;\n}\n.box-card .bar .title[data-v-6fd650b6] {\n  font-size: 14px;\n  min-width: 75px;\n  text-align: center;\n}\n.box-card .bar .el-input[data-v-6fd650b6] {\n  width: 300px;\n  min-width: 75px;\n}\n.box-card .bar .el-select[data-v-6fd650b6] {\n  width: 300px;\n  min-width: 75px;\n}\n.box-card .block[data-v-6fd650b6] {\n  padding: 30px 0;\n  text-align: center;\n}\n"],sourceRoot:""}])},466:function(e,t,a){var n=a(417);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(124)("80313f48",n,!0)},546:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body"},[a("el-card",{staticClass:"box-card"},[a("el-row",{staticStyle:{"margin-top":"5px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"title"},[e._v("客户名称")]),e._v(" "),a("el-select",{attrs:{clearable:""},on:{change:function(t){e.customerNameSelectionChange()}},model:{value:e.searchOptions.searchParams.customerValue,callback:function(t){e.$set(e.searchOptions.searchParams,"customerValue",t)},expression:"searchOptions.searchParams.customerValue"}},e._l(e.searchOptions.options.customerNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"title"},[e._v("品牌")]),e._v(" "),a("el-select",{attrs:{clearable:""},on:{change:function(t){e.brandSelectionChange()}},model:{value:e.searchOptions.searchParams.brandValue,callback:function(t){e.$set(e.searchOptions.searchParams,"brandValue",t)},expression:"searchOptions.searchParams.brandValue"}},e._l(e.searchOptions.options.brandNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"title"},[e._v("系列名称")]),e._v(" "),a("el-select",{attrs:{clearable:""},on:{change:function(t){e.rangeSelectionChange()}},model:{value:e.searchOptions.searchParams.rangeValue,callback:function(t){e.$set(e.searchOptions.searchParams,"rangeValue",t)},expression:"searchOptions.searchParams.rangeValue"}},e._l(e.searchOptions.options.rangeNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"title"},[e._v("款式组名")]),e._v(" "),a("el-select",{attrs:{clearable:""},model:{value:e.searchOptions.searchParams.idValue,callback:function(t){e.$set(e.searchOptions.searchParams,"idValue",t)},expression:"searchOptions.searchParams.idValue"}},e._l(e.searchOptions.options.styleGroupNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px","margin-bottom":"5px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"title"},[e._v("服装层次")]),e._v(" "),a("el-select",{attrs:{clearable:""},model:{value:e.searchOptions.searchParams.clothingLevelValue,callback:function(t){e.$set(e.searchOptions.searchParams,"clothingLevelValue",t)},expression:"searchOptions.searchParams.clothingLevelValue"}},e._l(e.searchOptions.options.clothingTypeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"bar"},[a("div",{staticClass:"title"},[e._v("添加时间")]),e._v(" "),a("el-date-picker",{staticClass:"inputBar",attrs:{type:"daterange","range-separator":"至","start-placeholde":"开始日期","end-placeholde":"结束日期",clearable:""},model:{value:e.searchOptions.searchParams.dateRange,callback:function(t){e.$set(e.searchOptions.searchParams,"dateRange",t)},expression:"searchOptions.searchParams.dateRange"}})],1)]),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"table"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.addStyleGroup}},[e._v("添加款式组")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.deleteStyleGroup}},[e._v("删除款式组")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.unbindStyleGroup}},[e._v(" 解绑款式组")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableDataA,"max-height":"400",border:"",stripe:!0,"highlight-current-row":!0},on:{"selection-change":e.changeCheckBoxFun}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",width:"150",label:"款式组编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",width:"150",label:"款式组名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rangeNumber",width:"130",label:"系列编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerName",width:"120",label:"客户名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rangeName",width:"150",label:"系列名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"brandName",label:"品牌",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clothingLevelName",label:"服装层次",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createrName",label:"添加人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deptName",label:"部门",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stateName",width:"70",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",width:"170",label:"添加时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150","min-width":"100",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.changeStyleGroupData(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteStyleGroupRow(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":e.pagination.pageSizes,"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.pagination,"currentPage",t)}}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{modal:!1,title:"款式组信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-row",{staticStyle:{"margin-top":"5px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"客户名称",prop:"tmpCustomer",placeholder:"请选择客户名称"}},[a("el-select",{on:{change:function(t){e.dialogCustomerNameSelectionChange()}},model:{value:e.ruleForm.tmpCustomer,callback:function(t){e.$set(e.ruleForm,"tmpCustomer",t)},expression:"ruleForm.tmpCustomer"}},e._l(e.options.customerNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品牌名称",prop:"tmpBrand",placeholder:"请选择品牌名称"}},[a("el-select",{on:{change:function(t){e.dialogBrandSelectionChange()}},model:{value:e.ruleForm.tmpBrand,callback:function(t){e.$set(e.ruleForm,"tmpBrand",t)},expression:"ruleForm.tmpBrand"}},e._l(e.options.brandNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px","margin-bottom":"5px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"系列名称",prop:"tmpRange",placeholder:"请选择系列名称"}},[a("el-select",{model:{value:e.ruleForm.tmpRange,callback:function(t){e.$set(e.ruleForm,"tmpRange",t)},expression:"ruleForm.tmpRange"}},e._l(e.options.rangeNameOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"款式组名",prop:"tmpStyleGroup",placeholder:"请输入款式组名"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.ruleForm.tmpStyleGroup,callback:function(t){e.$set(e.ruleForm,"tmpStyleGroup",t)},expression:"ruleForm.tmpStyleGroup"}})],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{margin:"50px 0 10px 0"}},[a("el-col",{attrs:{span:3,offset:10}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"info"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=5.27d5ef037dc1ac135a71.js.map