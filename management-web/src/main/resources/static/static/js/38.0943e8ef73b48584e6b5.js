webpackJsonp([38],{126:function(e,t,i){function n(e){i(467)}var a=i(37)(i(279),i(547),n,"data-v-7018791e",null);e.exports=a.exports},279:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{viewname:"first",searchInput:"",tableData:[],multipleSelection:[],selectionData:[],editInfoDescription:"",editInfoName:"",editInfoId:"",editInfoAbbr:"",editInfoCustomer:"",editInfoInitCustomerId:"",tmpeditInfoCustomer:"",addInfoCustomer:"",addInfoDescription:"",addInfoName:"",addInfoAbbr:"",addCardShowFlag:!1,editCardShowFlag:!1}},created:function(){var e=this;this.$axios.get(window.$config.HOST+"/baseInfoManagement/getCustomer").then(function(t){e.selectionData=t.data}).catch(function(e){console.log("客户信息加载失败")}),this.$axios.get(window.$config.HOST+"/baseInfoManagement/getBrand",{params:{name:null}}).then(function(t){console.log(t.data),e.tableData=t.data}).catch(function(t){e.$message.error("信息加载失败"),e.tableData=[{id:"536543",customerId:"453142312",name:"nike",abbr:"nk",description:"知名品牌",customerName:"中国耐克公司"},{id:"52346",customerId:"8478",name:"addidas",abbr:"ad",description:"次级品牌",customerName:"中国阿迪公司"},{id:"234513452",customerId:"578",name:"newbalance",abbr:"nb",description:"国际品牌",customerName:"中国新百伦公司"},{id:"2562",customerId:"678468",name:"阿赛克斯",abbr:"asics",description:"日本品牌",customerName:"日本阿赛克斯公司"}]})},methods:{handleTabClick:function(e,t){console.log(e,t)},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},handleSearchClick:function(e){var t=this,i={name:null};e||(i={name:""===this.searchInput?null:this.searchInput}),console.log("搜索参数"),console.log(i),this.$axios.get(window.$config.HOST+"/baseInfoManagement/getBrand",{params:i}).then(function(e){t.tableData=e.data}).catch(function(e){t.$message.error("搜索失败"),t.selectionData=[],t.tableData=[{id:"52346",customerId:"8478",name:"addidas",abbr:"ad",description:"次级品牌",customerName:"中国阿迪公司"},{id:"234513452",customerId:"578",name:"newbalance",abbr:"nb",description:"国际品牌",customerName:"中国新百伦公司"},{id:"2562",customerId:"678468",name:"阿赛克斯",abbr:"asics",description:"日本品牌",customerName:"日本阿赛克斯公司"}]})},handleNewInfoClick:function(){this.addCardShowFlag=!0,this.viewname="second",console.log(this.viewname)},handleEditInfoClick:function(){return 0===this.multipleSelection.length?void this.$message({message:"请选择一个品牌信息",type:"warning"}):this.multipleSelection.length>1?void this.$message({message:"只能选择一个信息进行编辑",type:"warning"}):(this.editCardShowFlag=!0,console.log(this.multipleSelection[0]),this.editInfoId=this.multipleSelection[0].id,this.editInfoName=this.multipleSelection[0].name,this.editInfoAbbr=this.multipleSelection[0].abbr,this.editInfoCustomer=this.multipleSelection[0].customerId,this.editInfoCustomerName=this.multipleSelection[0].customerName,this.tmpeditInfoCustomerName=this.multipleSelection[0].customerName,this.editInfoDescription=this.multipleSelection[0].description,void(this.viewname="third"))},handleDeleteInfoClick:function(){var e=this;0===this.multipleSelection.length?this.$message({message:"至少选择一个品牌",type:"warning"}):this.multipleSelection.forEach(function(t){e.$axios.delete(window.$config.HOST+"/baseInfoManagement/deleteBrand",{params:{id:t.id}}).then(function(i){if(i.data<0)e.$message.error(t.name+"删除失败"),console.log(t.name+"删除失败");else{console.log(t.name+"删除成功"),e.$message({type:"success",message:t.name+"删除成功"});var n=e.tableData.indexOf(t);e.tableData.splice(n,1)}}).catch(function(i){e.$message.error(t.name+"删除失败"),console.log(t.name+"删除失败")})})},handleNewSaveClick:function(){var e=this,t={name:""===this.addInfoName?null:this.addInfoName,abbr:""===this.addInfoAbbr?null:this.addInfoAbbr,description:""===this.addInfoDescription?null:this.addInfoDescription,customerId:""===this.addInfoGroupId?null:this.addInfoCustomer};console.log(t),this.$axios.post(window.$config.HOST+"/baseInfoManagement/addBrand",t).then(function(t){t.data<0?e.$message.error("添加失败"):(e.$message({message:"添加成功!",type:"success"}),e.handleSearchClick(!0))}).catch(function(t){e.$message.error("添加失败"),console.log("添加失败")}),this.addInfoName="",this.addInfoAbbr="",this.addInfoDescription="",this.addInfoCustomer="",this.addCardShowFlag=!1,this.viewname="first"},handleNewCancelClick:function(){this.addCardShowFlag=!1,this.viewname="first",this.$message({message:"取消新增!",type:"info"})},handleEditSaveClick:function(){var e=this,t=this.editInfoCustomer===this.tmpeditInfoCustomer?this.editInfoInitCustomerId:this.editInfoCustomer,i={id:""===this.editInfoId?null:this.editInfoId,name:""===this.editInfoName?null:this.editInfoName,abbr:""===this.editInfoAbbr?null:this.editInfoAbbr,description:""===this.editInfoDescription?null:this.editInfoDescription,customerId:""===t?null:t};console.log(i),this.$axios.post(window.$config.HOST+"/baseInfoManagement/updateBrand",i).then(function(t){t.data<0?e.$message.error("编辑失败"):(e.$message({message:"编辑成功!",type:"success"}),e.handleSearchClick(!0))}).catch(function(t){e.$message.error("编辑失败")}),this.editInfoId="",this.editInfoName="",this.editInfoAbbr="",this.editInfoCustomer="",this.editInfoCustomerName="",this.tmpeditInfoCustomerName="",this.editInfoDescription="",this.editCardShowFlag=!1,this.viewname="first"},handleEditCancelClick:function(){this.editCardShowFlag=!1,this.viewname="first",this.$message({message:"取消编辑!",type:"info"})}}}},418:function(e,t,i){t=e.exports=i(123)(!0),t.push([e.i,".box-card[data-v-7018791e]{min-width:1500px;margin:20px 50px;padding:0 20px}.containerHeaderDiv2[data-v-7018791e]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;min-width:500px}.containerHeaderDiv2 .nameInput[data-v-7018791e]{min-width:100px;max-width:200px}.containerHeaderDiv2 .inputTag[data-v-7018791e]{font-size:18px;line-height:40px;min-width:90px}.inputCombine[data-v-7018791e]{margin-top:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;min-width:250px;max-width:500px}.inputCombine .inputTag[data-v-7018791e]{font-size:18px;line-height:40px;min-width:90px}.secondButtonDiv[data-v-7018791e]{margin-top:20px;min-width:250px;max-width:500px}.secondButtonDiv .save[data-v-7018791e]{margin-left:68%}","",{version:3,sources:["/home/titanxu/Desktop/planui/src/page/backEndModule/brandMana.vue"],names:[],mappings:"AACA,2BACE,iBAAkB,AAClB,iBAAkB,AAClB,cAAgB,CACjB,AACD,sCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,8BAA+B,AAC3B,+BAAgC,AAC5B,2BAA4B,AACpC,eAAiB,CAClB,AACD,iDACE,gBAAiB,AACjB,eAAiB,CAClB,AACD,gDACE,eAAgB,AAChB,iBAAkB,AAClB,cAAgB,CACjB,AACD,+BACE,gBAAiB,AACjB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,gBAAiB,AACjB,eAAiB,CAClB,AACD,yCACE,eAAgB,AAChB,iBAAkB,AAClB,cAAgB,CACjB,AACD,kCACE,gBAAiB,AACjB,gBAAiB,AACjB,eAAiB,CAClB,AACD,wCACE,eAAiB,CAClB",file:"brandMana.vue",sourcesContent:["\n.box-card[data-v-7018791e] {\n  min-width: 1500px;\n  margin: 20px 50px;\n  padding: 0 20px;\n}\n.containerHeaderDiv2[data-v-7018791e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: reverse;\n      -ms-flex-direction: row-reverse;\n          flex-direction: row-reverse;\n  min-width: 500px;\n}\n.containerHeaderDiv2 .nameInput[data-v-7018791e] {\n  min-width: 100px;\n  max-width: 200px;\n}\n.containerHeaderDiv2 .inputTag[data-v-7018791e] {\n  font-size: 18px;\n  line-height: 40px;\n  min-width: 90px;\n}\n.inputCombine[data-v-7018791e] {\n  margin-top: 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  min-width: 250px;\n  max-width: 500px;\n}\n.inputCombine .inputTag[data-v-7018791e] {\n  font-size: 18px;\n  line-height: 40px;\n  min-width: 90px;\n}\n.secondButtonDiv[data-v-7018791e] {\n  margin-top: 20px;\n  min-width: 250px;\n  max-width: 500px;\n}\n.secondButtonDiv .save[data-v-7018791e] {\n  margin-left: 68%;\n}\n"],sourceRoot:""}])},467:function(e,t,i){var n=i(418);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(124)("2799d3d8",n,!0)},547:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",{staticClass:"box-card"},[i("el-tabs",{staticClass:"cardTab",on:{"tab-click":e.handleTabClick},model:{value:e.viewname,callback:function(t){e.viewname=t},expression:"viewname"}},[i("el-tab-pane",{staticClass:"tabPane",attrs:{label:"品牌信息管理",name:"first"}},[i("el-container",{staticClass:"paneContainer"},[i("el-header",{attrs:{clas:"containerHeader"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:2}},[i("div",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleNewInfoClick()}}},[e._v("新增信息")])],1)]),e._v(" "),i("el-col",{attrs:{span:2}},[i("div",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleEditInfoClick()}}},[e._v("编辑信息")])],1)]),e._v(" "),i("el-col",{attrs:{span:2}},[i("div",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleDeleteInfoClick()}}},[e._v("删除信息")])],1)]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"containerHeaderDiv2"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearchClick(!1)}}},[e._v("搜索品牌")]),e._v(" "),i("el-input",{staticClass:"nameInput",attrs:{placeholder:"请输入品牌名称"},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._v(" "),i("span",{staticClass:"inputTag"},[e._v("品牌名称:")])],1)])],1),e._v(" "),i("hr")],1),e._v(" "),i("el-main",{attrs:{clas:"containerMain"}},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),e._e(),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"品牌名称",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{prop:"abbr",label:"品牌简称",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{prop:"description",label:"品牌描述",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{prop:"customerName",label:"所属客户","show-overflow-tooltip":""}})],1),e._v(" "),i("div",{staticStyle:{"margin-top":"20px"}},[i("el-button",{attrs:{type:"info"},on:{click:function(t){e.toggleSelection()}}},[e._v("取消选择")])],1)],1)],1)],1),e._v(" "),e.addCardShowFlag?i("el-tab-pane",{attrs:{label:"新增品牌信息",name:"second"}},[i("el-card",[i("div",{staticClass:"inputCombine"},[i("span",{staticClass:"inputTag"},[e._v("品牌名称:")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{placeholder:"请输入品牌名称"},model:{value:e.addInfoName,callback:function(t){e.addInfoName=t},expression:"addInfoName"}})],1),e._v(" "),i("div",{staticClass:"inputCombine"},[i("span",{staticClass:"inputTag"},[e._v("品牌简称:")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{placeholder:"请输入品牌简称"},model:{value:e.addInfoAbbr,callback:function(t){e.addInfoAbbr=t},expression:"addInfoAbbr"}})],1),e._v(" "),i("div",{staticClass:"inputCombine"},[i("span",{staticClass:"inputTag"},[e._v("所属客户:")]),e._v(" "),i("el-select",{staticClass:"inputSelector",attrs:{placeholder:"请选择"},model:{value:e.addInfoCustomer,callback:function(t){e.addInfoCustomer=t},expression:"addInfoCustomer"}},e._l(e.selectionData,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("div",{staticClass:"inputCombine"},[i("span",{staticClass:"inputTag"},[e._v("品牌描述:")]),e._v(" "),i("el-input",{staticClass:"inputArea",attrs:{type:"textarea",rows:4,placeholder:"请输入品牌描述"},model:{value:e.addInfoDescription,callback:function(t){e.addInfoDescription=t},expression:"addInfoDescription"}})],1),e._v(" "),i("div",{staticClass:"secondButtonDiv"},[i("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:function(t){e.handleNewSaveClick()}}},[e._v("保存")]),e._v(" "),i("el-button",{staticClass:"cancel",attrs:{type:"primary"},on:{click:function(t){e.handleNewCancelClick()}}},[e._v("取消")])],1)])],1):e._e(),e._v(" "),e.editCardShowFlag?i("el-tab-pane",{attrs:{label:"编辑品牌信息",name:"third"}},[i("el-card",[i("div",{staticClass:"inputCombine"},[i("span",{staticClass:"inputTag"},[e._v("品牌名称:")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{placeholder:"请输入品牌名称"},model:{value:e.editInfoName,callback:function(t){e.editInfoName=t},expression:"editInfoName"}})],1),e._v(" "),i("div",{staticClass:"inputCombine"},[i("span",{staticClass:"inputTag"},[e._v("品牌简称:")]),e._v(" "),i("el-input",{staticClass:"input",attrs:{placeholder:"请输入品牌简称"},model:{value:e.editInfoAbbr,callback:function(t){e.editInfoAbbr=t},expression:"editInfoAbbr"}})],1),e._v(" "),i("div",{staticClass:"inputCombine"},[i("span",{staticClass:"inputTag"},[e._v("所属客户:")]),e._v(" "),i("el-select",{staticClass:"inputSelector",attrs:{placeholder:"请选择"},model:{value:e.editInfoCustomer,callback:function(t){e.editInfoCustomer=t},expression:"editInfoCustomer"}},e._l(e.selectionData,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("div",{staticClass:"inputCombine"},[i("span",{staticClass:"inputTag"},[e._v("品牌描述:")]),e._v(" "),i("el-input",{staticClass:"inputArea",attrs:{type:"textarea",rows:4,placeholder:"请输入品牌描述"},model:{value:e.editInfoDescription,callback:function(t){e.editInfoDescription=t},expression:"editInfoDescription"}})],1),e._v(" "),i("div",{staticClass:"secondButtonDiv"},[i("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:function(t){e.handleEditSaveClick()}}},[e._v("保存")]),e._v(" "),i("el-button",{staticClass:"cancel",attrs:{type:"primary"},on:{click:function(t){e.handleEditCancelClick()}}},[e._v("取消")])],1)])],1):e._e()],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=38.0943e8ef73b48584e6b5.js.map